<!DOCTYPE html> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title>Tiling macOS: Moving from i3wm to Yabai | Steven Braun</title> <meta name="author" content="Steven Braun"> <meta name="description" content="A short summary on how one can replace the typical Linux i3wm experience on macOS with yabai and skhd."> <link rel="stylesheet" href="/assets/css/bootstrap.min.css?a4b3f509e79c54a512b890d73235ef04"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link defer rel="stylesheet" href="https://unpkg.com/bootstrap-table@1.22.1/dist/bootstrap-table.min.css"> <link rel="stylesheet" href="/assets/css/academicons.min.css?f0b7046b84e425c55f3463ac249818f5"> <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons"> <link rel="stylesheet" href="/assets/css/jekyll-pygments-themes-github.css?19f3075a2d19613090fe9e16b564e1fe" media="" id="highlight_theme_light"> <link rel="stylesheet" href="/assets/css/main.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="canonical" href="https://www.steven-braun.com/blog/2022/i3wm-to-yabai/"> </head> <body class="fixed-top-nav sticky-bottom-footer"> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/"><span class="font-weight-bold">Steven </span>Braun</a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">About</a> </li> <li class="nav-item active"> <a class="nav-link" href="/blog/">Blog<span class="sr-only">(current)</span></a> </li> <li class="nav-item "> <a class="nav-link" href="/publications/">Publications</a> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="container mt-5"> <style type="text/css">.fake-img{background:#bbb;border:1px solid rgba(0,0,0,0.1);box-shadow:0 0 4px rgba(0,0,0,0.1);margin-bottom:12px}.fake-img p{font-family:monospace;color:white;text-align:left;margin:12px 0;text-align:center;font-size:16px}.center{display:block;margin-left:auto;margin-right:auto}.small{display:block;margin-left:auto;margin-right:auto;width:75%}.normal{display:block;margin-left:auto;margin-right:auto;width:100%}.video{display:block;margin-left:auto;margin-right:auto;width:95%}</style> <div class="post"> <header class="post-header"> <h1 class="post-title">Tiling macOS: Moving from i3wm to Yabai</h1> <p class="post-meta">October 6, 2022</p> <p class="post-tags"> <a href="/blog/2022"> <i class="fas fa-calendar fa-sm"></i> 2022 </a> </p> </header> <article class="post-content"> <div id="markdown-content"> <p><img class="img-fluid rounded z-depth-2 center normal mb-4" src="/assets/posts/2022-10-06-i3wm-to-yabai/yabai-screenshot.png" data-zoomable=""></p> <p>After using Linux for almost a decade, I’ve finally gotten annoyed at all the little hiccups and issues that arrive from time to time when working in Linux. ArchLinux has taught me more than anything else about the Linux world, its bleeding edge character, and the issues that come along with it. This has brought me to Fedora Linux about two years ago. While more stable in general, even Fedora has its sharp edges here and there. I’ve experienced issues with Bluetooth, audio sinks and sources, printers, and more on a daily to weekly basis. After having less and less available time due to my research, constantly tinkering with my system was no longer an option. Therefore, I’ve decided to finally ditch Linux and give macOS a try.</p> <p>My Linux workflow was mainly keyboard-driven, using i3wm as a tiling window manager, Emacs as a programming IDE and as a note-taking tool with <a href="https://orgmode.org" rel="external nofollow noopener" target="_blank">Org mode</a> and <a href="https://www.orgroam.com" rel="external nofollow noopener" target="_blank">Org Roam</a>, and basically <em>living</em> in the terminal. Therefore, my first goal when switching to macOS was to replicate as much as possible of this exact workflow. While finding that (doom) Emacs worked basically out-of-the-box using the <code class="language-plaintext highlighter-rouge">emacs-mac</code> build (<code class="language-plaintext highlighter-rouge">brew tap railwaycat/emacsmacport brew install emacs-mac --with-modules</code>) and my Zsh configuration was working without any major changes, finding a workable replacement for i3wm was a much harder task.</p> <h2 id="yabai-and-skhd-to-the-rescue">Yabai and skhd to the Rescue!</h2> <p>After fiddling around for a few days, I’ve settled with a setup that works really well for me: <a href="https://github.com/koekeishiya/yabai" rel="external nofollow noopener" target="_blank">yabai</a> as a tiling window manager and <a href="https://github.com/koekeishiya/skhd" rel="external nofollow noopener" target="_blank">skhd</a> to define keyboard shortcuts that perform <code class="language-plaintext highlighter-rouge">yabai</code> (and some other) commands, replicating most of the functionality that is available in i3wm. In the following, I will go through my yabai and skhd setup and explain how it can replicate the classic i3wm behavior. When giving examples for yabai and skhd commands and configs, these usually go into their respective configuration files at <code class="language-plaintext highlighter-rouge">~/.config/yabai/yabairc</code> and <code class="language-plaintext highlighter-rouge">~/.config/skhd/skhdrc</code>.</p> <h3 id="open-terminal">Open Terminal</h3> <p>For a terminal-focused workflow, it was important to me to have a quick and simple way to open a new terminal instance bound to my preferred shortcut <code class="language-plaintext highlighter-rouge">cmd - return</code>. <a href="https://sw.kovidgoyal.net/kitty/" rel="external nofollow noopener" target="_blank">Kitty</a> allows this via the <code class="language-plaintext highlighter-rouge">kitty --single-instance -d ~</code> arguments. That is, with skhd we can now map <code class="language-plaintext highlighter-rouge">cmd - return</code> to this exact call:</p> <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>cmd - <span class="k">return</span> : kitty <span class="nt">--single-instance</span> <span class="nt">-d</span> ~
</code></pre></div></div> <p>If you prefer <a href="https://iterm2.com" rel="external nofollow noopener" target="_blank">iTerm2</a> over kitty, we can quickly start a new iTerm2 session (as long as there is at least one iTerm2 window already running) with</p> <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>cmd - <span class="k">return</span> : osascript <span class="nt">-e</span> <span class="s2">"tell application </span><span class="se">\"</span><span class="s2">iTerm2</span><span class="se">\"</span><span class="s2"> to set newSession to create window with default profile end tell"</span>
</code></pre></div></div> <video class="video mt-4 mb-4 z-depth-2" controls=""> <source src="/assets/posts/2022-10-06-i3wm-to-yabai/open-terminal.mp4" type="video/mp4"></source> </video> <h3 id="close-window">Close Window</h3> <p>To quickly close windows, I map <code class="language-plaintext highlighter-rouge">cmd - q</code> to the specific yabai command:</p> <div class="language-zsh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>cmd - q : yabai <span class="nt">-m</span> window <span class="nt">--close</span>
</code></pre></div></div> <video class="video mt-4 mb-4 z-depth-2" controls=""> <source src="/assets/posts/2022-10-06-i3wm-to-yabai/close-window.mp4" type="video/mp4"></source> </video> <h3 id="window-focus">Window Focus</h3> <p>Window management in yabai turns out to be pretty similar to i3wm in practice. Yabai allows compass-like focus commands with <code class="language-plaintext highlighter-rouge">yabai -m window --focus &lt;direction&gt;</code>. I typically use the vim-like keys and bind <code class="language-plaintext highlighter-rouge">h/j/k/l</code> to <code class="language-plaintext highlighter-rouge">west/south/north/east</code> respectively as follows:</p> <div class="language-zsh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>cmd - h : yabai <span class="nt">-m</span> window <span class="nt">--focus</span> west
cmd - j : yabai <span class="nt">-m</span> window <span class="nt">--focus</span> south
cmd - k : yabai <span class="nt">-m</span> window <span class="nt">--focus</span> north
cmd - l : yabai <span class="nt">-m</span> window <span class="nt">--focus</span> east
</code></pre></div></div> <video class="video mt-4 mb-4 z-depth-2" controls=""> <source src="/assets/posts/2022-10-06-i3wm-to-yabai/focus-window.mp4" type="video/mp4"></source> </video> <p>If you have multiple displays, say next to each other, you can add an alternative command via <code class="language-plaintext highlighter-rouge">||</code> if the first command fails. That means if the focus is currently on the east-most window, and we call <code class="language-plaintext highlighter-rouge">yabai -m window --focus east</code>, but there is another display right of your current display, the following will handle switching the display as well:</p> <div class="language-zsh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>cmd - h : yabai <span class="nt">-m</span> window <span class="nt">--focus</span> west <span class="o">||</span> yabai <span class="nt">-m</span> display <span class="nt">--focus</span> west
cmd - l : yabai <span class="nt">-m</span> window <span class="nt">--focus</span> east <span class="o">||</span> yabai <span class="nt">-m</span> display <span class="nt">--focus</span> east
</code></pre></div></div> <p>Similarly, you can switch stacks conditionally, i.e., first try if you can focus the next or previous window in the current stack and if that fails, conditionally focus the next window south/north:</p> <div class="language-zsh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>cmd - j : yabai <span class="nt">-m</span> window <span class="nt">--focus</span> stack.next <span class="o">||</span> yabai <span class="nt">-m</span> window <span class="nt">--focus</span> south
cmd - k : yabai <span class="nt">-m</span> window <span class="nt">--focus</span> stack.prev <span class="o">||</span> yabai <span class="nt">-m</span> window <span class="nt">--focus</span> north
</code></pre></div></div> <h3 id="move-windows">Move Windows</h3> <p>Similarly, windows can be moved (with my preferred keybinding <code class="language-plaintext highlighter-rouge">cmd + shift - h/j/k/l</code>):</p> <div class="language-zsh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>cmd + <span class="nb">shift</span> - h : yabai <span class="nt">-m</span> window <span class="nt">--warp</span> west <span class="o">||</span> yabai <span class="nt">-m</span> window <span class="nt">--display</span> west
cmd + <span class="nb">shift</span> - l : yabai <span class="nt">-m</span> window <span class="nt">--warp</span> east <span class="o">||</span> yabai <span class="nt">-m</span> window <span class="nt">--display</span> east
cmd + <span class="nb">shift</span> - j : yabai <span class="nt">-m</span> window <span class="nt">--warp</span> south 
cmd + <span class="nb">shift</span> - k : yabai <span class="nt">-m</span> window <span class="nt">--warp</span> north
</code></pre></div></div> <video class="video mt-4 mb-4 z-depth-2" controls=""> <source src="/assets/posts/2022-10-06-i3wm-to-yabai/move-window.mp4" type="video/mp4"></source> </video> <h3 id="spaces">Spaces</h3> <p>The equivalent of i3wm workspaces in macOS are “Desktops”. These can be focused in yabai via the <code class="language-plaintext highlighter-rouge">yabai -m space --focus &lt;label&gt;</code> command, where <code class="language-plaintext highlighter-rouge">&lt;label&gt;</code> is a tag you assign in your <code class="language-plaintext highlighter-rouge">yabairc</code> file:</p> <div class="language-zsh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>yabai <span class="nt">-m</span> space 1 <span class="nt">--label</span> 1
yabai <span class="nt">-m</span> space 2 <span class="nt">--label</span> 2
yabai <span class="nt">-m</span> space 3 <span class="nt">--label</span> 3
yabai <span class="nt">-m</span> space 4 <span class="nt">--label</span> 4
yabai <span class="nt">-m</span> space 5 <span class="nt">--label</span> 5
yabai <span class="nt">-m</span> space 6 <span class="nt">--label</span> 6
yabai <span class="nt">-m</span> space 7 <span class="nt">--label</span> 7
yabai <span class="nt">-m</span> space 8 <span class="nt">--label</span> 8
yabai <span class="nt">-m</span> space 9 <span class="nt">--label</span> 9
yabai <span class="nt">-m</span> space 10 <span class="nt">--label</span> 10
</code></pre></div></div> <p>Then in <code class="language-plaintext highlighter-rouge">skhdrc</code>, you can use these labels to focus a particular space. Additionally, to simulate the <code class="language-plaintext highlighter-rouge">workspace_auto_back_and_forth yes</code> setting of i3wm, we can append the command to focus the most recent space if you press the keybinding for the same space again:</p> <div class="language-zsh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>cmd - 1 : yabai <span class="nt">-m</span> space <span class="nt">--focus</span> 1 <span class="o">||</span> yabai <span class="nt">-m</span> space <span class="nt">--focus</span> recent
cmd - 2 : yabai <span class="nt">-m</span> space <span class="nt">--focus</span> 2 <span class="o">||</span> yabai <span class="nt">-m</span> space <span class="nt">--focus</span> recent
cmd - 3 : yabai <span class="nt">-m</span> space <span class="nt">--focus</span> 3 <span class="o">||</span> yabai <span class="nt">-m</span> space <span class="nt">--focus</span> recent
cmd - 4 : yabai <span class="nt">-m</span> space <span class="nt">--focus</span> 4 <span class="o">||</span> yabai <span class="nt">-m</span> space <span class="nt">--focus</span> recent
cmd - 5 : yabai <span class="nt">-m</span> space <span class="nt">--focus</span> 5 <span class="o">||</span> yabai <span class="nt">-m</span> space <span class="nt">--focus</span> recent
cmd - 6 : yabai <span class="nt">-m</span> space <span class="nt">--focus</span> 6 <span class="o">||</span> yabai <span class="nt">-m</span> space <span class="nt">--focus</span> recent
cmd - 7 : yabai <span class="nt">-m</span> space <span class="nt">--focus</span> 7 <span class="o">||</span> yabai <span class="nt">-m</span> space <span class="nt">--focus</span> recent
cmd - 8 : yabai <span class="nt">-m</span> space <span class="nt">--focus</span> 8 <span class="o">||</span> yabai <span class="nt">-m</span> space <span class="nt">--focus</span> recent
cmd - 9 : yabai <span class="nt">-m</span> space <span class="nt">--focus</span> 9 <span class="o">||</span> yabai <span class="nt">-m</span> space <span class="nt">--focus</span> recent
</code></pre></div></div> <video class="video mt-4 mb-4 z-depth-2" controls=""> <source src="/assets/posts/2022-10-06-i3wm-to-yabai/focus-space.mp4" type="video/mp4"></source> </video> <p>Similar to moving windows around in a specific space, I bind <code class="language-plaintext highlighter-rouge">cmd + shift - &lt;label&gt;</code> to moving a window to a particular space:</p> <div class="language-zsh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>cmd + <span class="nb">shift</span> - 1 : yabai <span class="nt">-m</span> window <span class="nt">--space</span> 1
cmd + <span class="nb">shift</span> - 2 : yabai <span class="nt">-m</span> window <span class="nt">--space</span> 2
cmd + <span class="nb">shift</span> - 3 : yabai <span class="nt">-m</span> window <span class="nt">--space</span> 3
cmd + <span class="nb">shift</span> - 4 : yabai <span class="nt">-m</span> window <span class="nt">--space</span> 4
cmd + <span class="nb">shift</span> - 5 : yabai <span class="nt">-m</span> window <span class="nt">--space</span> 5
cmd + <span class="nb">shift</span> - 6 : yabai <span class="nt">-m</span> window <span class="nt">--space</span> 6
cmd + <span class="nb">shift</span> - 7 : yabai <span class="nt">-m</span> window <span class="nt">--space</span> 7
cmd + <span class="nb">shift</span> - 8 : yabai <span class="nt">-m</span> window <span class="nt">--space</span> 8
cmd + <span class="nb">shift</span> - 9 : yabai <span class="nt">-m</span> window <span class="nt">--space</span> 9
</code></pre></div></div> <video class="video mt-4 mb-4 z-depth-2" controls=""> <source src="/assets/posts/2022-10-06-i3wm-to-yabai/move-window-to-space.mp4" type="video/mp4"></source> </video> <h3 id="spacebar">Spacebar</h3> <p>As an i3bar replacement, there are several options:</p> <ul> <li> <a href="https://github.com/Jean-Tinland/simple-bar" rel="external nofollow noopener" target="_blank">simple-bar</a>: A Ubersicht widget, very customizable.</li> <li> <a href="https://github.com/cmacrae/spacebar" rel="external nofollow noopener" target="_blank">spacebar</a>: A standalone bar application.</li> </ul> <p>To reserve some space in yabai for the bar, you need to configure the height of the <code class="language-plaintext highlighter-rouge">external_bar</code> variable in yabai as follows:</p> <div class="language-zsh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>yabai <span class="nt">-m</span> config external_bar all:0:24
</code></pre></div></div> <h3 id="floating-window-settings">Floating Window Settings</h3> <p>Some windows are just not worth floating and you may collect more of those over time. For this, yabai allows to add rules that disable yabai management for specific apps or windows with titles:</p> <div class="language-zsh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>yabai <span class="nt">-m</span> rule <span class="nt">--add</span> <span class="nv">title</span><span class="o">=</span><span class="s1">'Settings$'</span> <span class="nv">manage</span><span class="o">=</span>off
yabai <span class="nt">-m</span> rule <span class="nt">--add</span> <span class="nv">app</span><span class="o">=</span><span class="s2">"^System Preferences$"</span> <span class="nv">manage</span><span class="o">=</span>off
yabai <span class="nt">-m</span> rule <span class="nt">--add</span> <span class="nv">app</span><span class="o">=</span><span class="s2">"^System Information$"</span> <span class="nv">manage</span><span class="o">=</span>off
yabai <span class="nt">-m</span> rule <span class="nt">--add</span> <span class="nv">title</span><span class="o">=</span><span class="s2">"^Preferences$"</span> <span class="nv">manage</span><span class="o">=</span>off
yabai <span class="nt">-m</span> rule <span class="nt">--add</span> <span class="nv">title</span><span class="o">=</span><span class="s2">"^Digital Colour Meter$"</span> <span class="nv">manage</span><span class="o">=</span>off
yabai <span class="nt">-m</span> rule <span class="nt">--add</span> <span class="nv">title</span><span class="o">=</span><span class="s2">"^General.*"</span> <span class="nv">manage</span><span class="o">=</span>off
</code></pre></div></div> <video class="video mt-4 mb-4 z-depth-2" controls=""> <source src="/assets/posts/2022-10-06-i3wm-to-yabai/floating-window.mp4" type="video/mp4"></source> </video> <h2 id="additional-resources">Additional Resources</h2> <p>My dotfiles are available <a href="https://github.com/braun-steven/dotfiles" rel="external nofollow noopener" target="_blank">here</a>, including my old <a href="https://github.com/braun-steven/dotfiles/blob/master/configs/i3/.config/i3/config" rel="external nofollow noopener" target="_blank">i3wm config</a>, my new <a href="https://github.com/braun-steven/dotfiles/blob/master/configs/yabai/.config/yabai/yabairc" rel="external nofollow noopener" target="_blank">yabai config</a>, and the <a href="https://github.com/braun-steven/dotfiles/blob/master/configs/skhd/.config/skhd/skhdrc" rel="external nofollow noopener" target="_blank">skhd config</a>.</p> <p>The yabai GitHub repository also hosts a great <a href="https://github.com/koekeishiya/yabai/wiki" rel="external nofollow noopener" target="_blank">Wiki</a> that covers everything from installation to configuration.</p> </div> </article><div id="giscus_thread" style="max-width: 800px; margin: 0 auto;"> <script>let giscusTheme=localStorage.getItem("theme"),giscusAttributes={src:"https://giscus.app/client.js","data-repo":"braun-steven/braun-steven.github.io","data-repo-id":"R_kgDOGIe7LA","data-category":"Comments","data-category-id":"DIC_kwDOGIe7LM4CUi45","data-mapping":"title","data-strict":"1","data-reactions-enabled":"1","data-emit-metadata":"0","data-input-position":"bottom","data-theme":giscusTheme,"data-lang":"en",crossorigin:"anonymous",async:""},giscusScript=document.createElement("script");Object.entries(giscusAttributes).forEach(([t,e])=>giscusScript.setAttribute(t,e)),document.getElementById("giscus_thread").appendChild(giscusScript);</script> <noscript>Please enable JavaScript to view the <a href="http://giscus.app/?ref_noscript" rel="external nofollow noopener" target="_blank">comments powered by giscus.</a> </noscript> </div> </div> </div> <footer class="sticky-bottom mt-5"> <div class="container"> © Copyright 2024 Steven Braun. </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="/assets/js/bootstrap.bundle.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@4/imagesloaded.pkgd.min.js"></script> <script defer src="/assets/js/masonry.js" type="text/javascript"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.0.8/dist/medium-zoom.min.js" integrity="sha256-7PhEpEWEW0XXQ0k6kQrPKwuoIomz8R8IYyuU1Qew4P8=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js?7b30caa5023af4af8408a472dc4e1ebb"></script> <script defer src="https://unpkg.com/bootstrap-table@1.22.1/dist/bootstrap-table.min.js"></script> <script src="/assets/js/no_defer.js?d633890033921b33e0ceb13d22340a9c"></script> <script defer src="/assets/js/common.js?acdb9690d7641b2f8d40529018c71a01"></script> <script defer src="/assets/js/copy_code.js?c9d9dd48933de3831b3ee5ec9c209cac" type="text/javascript"></script> <script async src="https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js"></script> <script async src="https://badge.dimensions.ai/badge.js"></script> <script type="text/javascript">window.MathJax={tex:{tags:"ams"}};</script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js"></script> <script defer src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> <script type="text/javascript">function progressBarSetup(){"max"in document.createElement("progress")?(initializeProgressElement(),$(document).on("scroll",function(){progressBar.attr({value:getCurrentScrollPosition()})}),$(window).on("resize",initializeProgressElement)):(resizeProgressBar(),$(document).on("scroll",resizeProgressBar),$(window).on("resize",resizeProgressBar))}function getCurrentScrollPosition(){return $(window).scrollTop()}function initializeProgressElement(){let e=$("#navbar").outerHeight(!0);$("body").css({"padding-top":e}),$("progress-container").css({"padding-top":e}),progressBar.css({top:e}),progressBar.attr({max:getDistanceToScroll(),value:getCurrentScrollPosition()})}function getDistanceToScroll(){return $(document).height()-$(window).height()}function resizeProgressBar(){progressBar.css({width:getWidthPercentage()+"%"})}function getWidthPercentage(){return getCurrentScrollPosition()/getDistanceToScroll()*100}const progressBar=$("#progress");window.onload=function(){setTimeout(progressBarSetup,50)};</script> </body> </html>